[
    {
        "id": "3cdc",
        "name": "Set skbmark to 4",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbmark constant.bit32.4 index 5",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 5",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 5,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 4
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 5",
                0
            ]
        ]
    },
    {
        "id": "f050",
        "name": "Set tcindex to 23",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.tcindex constant.bit16.23 index 2",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 2,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "tcindex",
                                        "id": 4
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "container": "bit16",
                                        "value": 23
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 2",
                0
            ]
        ]
    },
    {
        "id": "9f12",
        "name": "Set skbptype to 7",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbptype constant.bit3.7 index 2",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 2,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 2,
                                        "pname": "kernel",
                                        "name": "skbptype",
                                        "id": 10
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 2,
                                        "container": "bit8",
                                        "value": 7
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 2",
                0
            ]
        ]
    },
    {
        "id": "20fb",
        "name": "Set skbqmap to 7000",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbqmap constant.bit16.7000 index 2",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 2,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "skbqmap",
                                        "id": 16
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "container": "bit16",
                                        "value": 7000
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 2",
                0
            ]
        ]
    },
    {
        "id": "2454",
        "name": "Set datalen to 80",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.pktlen constant.bit32.80 index 2",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 2,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "pktlen",
                                        "id": 1
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 80
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 2",
                0
            ]
        ]
    },
    {
        "id": "7f0f",
        "name": "Set datalen to 8080",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.datalen constant.bit32.8080 index 2",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 2,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "datalen",
                                        "id": 2
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 8080
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 2",
                0
            ]
        ]
    },
    {
        "id": "b459",
        "name": "Set skbhash to 0x1234",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbhash constant.bit32.0x1234 index 2",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 2,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbhash",
                                        "id": 5
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 4660
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 2",
                0
            ]
        ]
    },
    {
        "id": "845e",
        "name": "Set iif to 123",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.iif constant.int32.123 index 2",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 2,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "int32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "iif",
                                        "id": 8
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "int32",
                                        "value": 123
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 2",
                0
            ]
        ]
    },
    {
        "id": "23e0",
        "name": "Set skbproto to 1234",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbproto constant.be16.1234 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "be16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "skbproto",
                                        "id": 9
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "container": "be16",
                                        "value": 1234
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "34c3",
        "name": "Set skbpeek to 1",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbpeek constant.bit1.1 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbpeek",
                                        "id": 15
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "container": "bit8",
                                        "value": 1
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "1be1",
        "name": "Try to set skbptype with constant.bit16",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbptype constant.bit16.32 index 2",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchPattern": "Error: TC action with specified index not found.*",
        "teardown": []
    },
    {
        "id": "b68a",
        "name": "Try to assign constant.bit3.70",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbptype constant.bit3.70 index 2",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchPattern": "Error: TC action with specified index not found.*",
        "teardown": []
    },
    {
        "id": "2799",
        "name": "Try to assign constant.bit8[7-9].5",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.ptypeoff[5-7] constant.bit8[7-9].5 index 2",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchPattern": "Error: TC action with specified index not found.*",
        "teardown": []
    },
    {
        "id": "4650",
        "name": "Set ptypeoff[5-7] to constant.bit8[3-5].5",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.ptypeoff[5-7] constant.bit8[3-5].5 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 5,
                                        "endbit": 7,
                                        "pname": "kernel",
                                        "name": "ptypeoff",
                                        "id": 17
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 3,
                                        "endbit": 5,
                                        "container": "bit8",
                                        "value": 5
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "c1db",
        "name": "Try to assign to ptypeoff[7-9]",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.ptypeoff[7-9] constant.bit8[3-5].5 index 2",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchPattern": "Error: TC action with specified index not found.*",
        "teardown": []
    },
    {
        "id": "f3cc",
        "name": "Try to assign constant.bit64 to tcindex",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.tcindex constant.bit64.0x5234567890678861 index 2",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchPattern": "Error: TC action with specified index not found.*",
        "teardown": []
    },
    {
        "id": "aa4d",
        "name": "Set skbmark to ifindex",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbmark metadata.kernel.ifindex index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "metadata",
                                        "container": "int32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "ifindex",
                                        "id": 7
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "f4fc",
        "name": "Attach to filter and check refs and binds",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "plugins": {
            "requires": [
                "nsPlugin"
            ]
        },
        "setup": [
            "$TC qdisc add dev $DEV1 ingress",
            [
                "$TC actions add action metact cmd set metadata.kernel.skbmark metadata.kernel.ifindex index 14",
                0
            ]
        ],
        "cmdUnderTest": "$TC filter add dev $DEV1 parent ffff: handle 1 prio 1 protocol ip matchall action metact index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 2,
                        "bind": 1,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "metadata",
                                        "container": "int32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "ifindex",
                                        "id": 7
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC qdisc del dev $DEV1 ingress; sleep 1",
                0
            ],
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "d76d",
        "name": "Set skbidf to 0",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbidf constant.bit1[0-0].0 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbidf",
                                        "id": 11
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "value": 0
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "c823",
        "name": "Set skbidf to skboook",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skboook metadata.kernel.skbidf index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skboook",
                                        "id": 13
                                    },
                                    "OPB": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbidf",
                                        "id": 11
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "ec8e",
        "name": "Set skbpeek to skbidf",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbpeek metadata.kernel.skbidf index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbpeek",
                                        "id": 15
                                    },
                                    "OPB": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbidf",
                                        "id": 11
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "8802",
        "name": "Two set commands",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbmark constant.bit32.1234 cmd set metadata.kernel.skbidf constant.bit1.0 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "value": 1234
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbidf",
                                        "id": 11
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "value": 0
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "42c1",
        "name": "Try to assign to skbmark[16-33]",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbmark[16-33] constant.bit16.0x5678 index 32 index 2",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchPattern": "Error: TC action with specified index not found.*",
        "teardown": []
    },
    {
        "id": "3b0b",
        "name": "Assign to skbmark[0-15]",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbmark[0-15] constant.bit16.0x5678 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "value": 22136
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "bb91",
        "name": "Assign to skbmark[16-31]",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbmark[16-31] constant.bit16.0x1234 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 16,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "value": 4660
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "6946",
        "name": "Assign to skbmark[0-15] and skbmark[16-31]",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbmark[0-15] constant.bit16.0x5678 cmd set metadata.kernel.skbmark[16-31] constant.bit16.0x1234 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "value": 22136
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 16,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "value": 4660
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "c39c",
        "name": "Try to call action kernel.foo",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd act kernel.foo.1 index 5",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 5",
        "matchCount": "1",
        "matchPattern": "Error: TC action with specified index not found.*",
        "teardown": []
    },
    {
        "id": "1bc6",
        "name": "Try to call instance of drop that doesn't exist",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd act kernel.drop.1 index 5",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 5",
        "matchCount": "1",
        "matchPattern": "Error: TC action with specified index not found.*",
        "teardown": []
    },
    {
        "id": "a2bd",
        "name": "Call pipeline action",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [
            [
                "$TC p4template del pipeline/ptables",
                0,
                1,
                255
            ],
            [
                "$TC actions flush action gact",
                0,
                1,
                255
            ],
            [
                "$TC actions add action pass index 1",
                0,
                1,
                255
            ],
            [
                "$TC actions add action pass index 2",
                0,
                1,
                255
            ],
            [
                "$TC p4template create pipeline/ptables pipeid 22 maxrules 1 numtclasses 2 preactions action gact index 1 postactions action gact index 2",
                0
            ],
            [
                "$TC p4template create action/ptables/test param param1 type bit32",
                0
            ],
            [
                "$TC p4template update action/ptables/test state active",
                0
            ],
            [
                "$TC actions add action ptables/test param param1 type bit32 id 1 4294967295",
                0
            ]
        ],
        "cmdUnderTest": "$TC actions add action metact cmd act ptables.test.1 index 5",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 5",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 5,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "act",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "pipeid": 22,
                                        "id": 1
                                    },
                                    "OPB": {},
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions flush action metact",
                0
            ],
            [
                "$TC actions flush action ptables/test",
                0
            ],
            [
                "$TC p4template del pipeline/ptables",
                0
            ],
            [
                "$TC actions flush action gact",
                0
            ]
        ]
    },
    {
        "id": "0ffd",
        "name": "Call action ok",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [
            "$TC actions add action ok index 1"
        ],
        "cmdUnderTest": "$TC actions add action metact cmd act kernel.ok.1 index 5",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 5",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 5,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "act",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "pname": "kernel",
                                        "id": "gact"
                                    },
                                    "OPB": {},
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 5",
                0
            ],
            [
                "$TC actions flush action gact",
                0
            ]
        ]
    },
    {
        "id": "a268",
        "name": "Try to replace metact action",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [
            [
                "$TC actions add action metact cmd set metadata.kernel.skbmark constant.bit32.0x3215 index 7",
                0
            ]
        ],
        "cmdUnderTest": "$TC actions replace action metact cmd set metadata.kernel.skbmark constant.bit32.0x5132 index 7",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 7",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 7,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 12821
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 7",
                0
            ]
        ]
    },
    {
        "id": "f8a8",
        "name": "Set ptypeoff[0-2] to constant.bit8[1-3].7",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.ptypeoff[0-2] constant.bit8[1-3].7 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 2,
                                        "pname": "kernel",
                                        "name": "ptypeoff",
                                        "id": 17
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 1,
                                        "endbit": 3,
                                        "container": "bit8",
                                        "value": 7
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "03d1",
        "name": "Set ptypeoff[0-2] to constant.bit3.7",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.ptypeoff[0-2] constant.bit3.7 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 2,
                                        "pname": "kernel",
                                        "name": "ptypeoff",
                                        "id": 17
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 2,
                                        "container": "bit8",
                                        "value": 7
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "85c1",
        "name": "Try to assign to ptypeoff[0-2] to constant.bit8.7",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.ptypeoff[0-2] constant.bit8.7 index 32 index 2",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 2",
        "matchCount": "1",
        "matchPattern": "Error: TC action with specified index not found.*",
        "teardown": []
    },
    {
        "id": "d64b",
        "name": "Set ptypeoff[4-4] to ptypeoff[3-3]",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.ptypeoff[4-4] metadata.kernel.ptypeoff[3-3] index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 4,
                                        "endbit": 4,
                                        "pname": "kernel",
                                        "name": "ptypeoff",
                                        "id": 17
                                    },
                                    "OPB": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 3,
                                        "endbit": 3,
                                        "pname": "kernel",
                                        "name": "ptypeoff",
                                        "id": 17
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "0b18",
        "name": "Test metact beq",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add metact cmd beq  metadata.kernel.skbmark constant.bit32.4 control pipe / jump 1 cmd set metadata.kernel.skbmark constant.bit32.123 control ok cmd set metadata.kernel.skbidf constant.bit1.0 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "beq",
                                "control_action": {
                                    "type": "jump",
                                    "jump": 1
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 4
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 123
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbidf",
                                        "id": 11
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "container": "bit8",
                                        "value": 0
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "bec4",
        "name": "Test metact beq with incorrect jump value",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add metact cmd beq metadata.kernel.skbmark  constant.bit32.4  control pipe / jump 2 cmd set metadata.kernel.skbmark constant.bit32.123 cmd set metadata.kernel.skbidf constant.bit1.0",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchPattern": "Error: TC action with specified index not found.*",
        "teardown": []
    },
    {
        "id": "5437",
        "name": "Test metact bne",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add metact cmd bne  metadata.kernel.skbmark constant.bit32.4 control pipe / jump 1 cmd set metadata.kernel.skbmark constant.bit32.123 control ok cmd set metadata.kernel.skbidf constant.bit1.0 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "bne",
                                "control_action": {
                                    "type": "jump",
                                    "jump": 1
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 4
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 123
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbidf",
                                        "id": 11
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "container": "bit8",
                                        "value": 0
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "d74f",
        "name": "Test metact blt",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add metact cmd blt metadata.kernel.skbmark constant.bit32.4 control pipe / jump 1 cmd set metadata.kernel.skbmark constant.bit32.123 control ok cmd set metadata.kernel.skbidf constant.bit1.0 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "blt",
                                "control_action": {
                                    "type": "jump",
                                    "jump": 1
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 4
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 123
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbidf",
                                        "id": 11
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "container": "bit8",
                                        "value": 0
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "99b9",
        "name": "Test metact bgt",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add metact cmd bgt metadata.kernel.tcindex constant.bit32[0-15].4 control pipe / jump 1 cmd set metadata.kernel.tcindex constant.bit32[0-15].123 control ok cmd set metadata.kernel.skbidf constant.bit1.0 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "bgt",
                                "control_action": {
                                    "type": "jump",
                                    "jump": 1
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "tcindex",
                                        "id": 4
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "container": "bit32",
                                        "value": 4
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "tcindex",
                                        "id": 4
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "container": "bit32",
                                        "value": 123
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbidf",
                                        "id": 11
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "container": "bit8",
                                        "value": 0
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "bcb8",
        "name": "Test metact bge",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add metact cmd bge metadata.kernel.tcindex constant.bit32[0-15].4 control pipe / jump 1 cmd set metadata.kernel.tcindex constant.bit32[16-31].123 control ok cmd set metadata.kernel.skbidf constant.bit1.0 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "bge",
                                "control_action": {
                                    "type": "jump",
                                    "jump": 1
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "tcindex",
                                        "id": 4
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "container": "bit32",
                                        "value": 4
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "tcindex",
                                        "id": 4
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 16,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 123
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbidf",
                                        "id": 11
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "container": "bit8",
                                        "value": 0
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "7904",
        "name": "Test metact ble",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add metact cmd ble metadata.kernel.tcindex constant.bit32[0-15].4 control pipe / jump 1 cmd set metadata.kernel.tcindex constant.bit32[16-31].123 control ok cmd set metadata.kernel.skbidf constant.bit1.0 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "ble",
                                "control_action": {
                                    "type": "jump",
                                    "jump": 1
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "tcindex",
                                        "id": 4
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "container": "bit32",
                                        "value": 4
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "tcindex",
                                        "id": 4
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 16,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 123
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbidf",
                                        "id": 11
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "container": "bit8",
                                        "value": 0
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "8b2a",
        "name": "Test metact beq preceeded by a set",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add metact cmd set metadata.kernel.skbmark constant.bit32.4 cmd beq metadata.kernel.skbmark constant.bit32.4 control pipe / jump 1 cmd set metadata.kernel.skbmark constant.bit32.123 control ok cmd set metadata.kernel.skbidf constant.bit1.0 index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 4
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "beq",
                                "control_action": {
                                    "type": "jump",
                                    "jump": 1
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 4
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 123
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit8",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "pname": "kernel",
                                        "name": "skbidf",
                                        "id": 11
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 0,
                                        "container": "bit8",
                                        "value": 0
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "bf57",
        "name": "Test print without prefix",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbmark constant.bit32.0x5678 cmd print metadata.kernel.skbmark index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 22136
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "print",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {},
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "7e3b",
        "name": "Test print with prefix",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd print prefix before metadata.kernel.skbmark cmd set metadata.kernel.skbmark constant.bit32.0x5678 cmd print prefix after metadata.kernel.skbmark index 14",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 14,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "print",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3,
                                        "path": "before"
                                    },
                                    "OPB": {},
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "container": "bit32",
                                        "value": 22136
                                    },
                                    "OPC": {}
                                }
                            },
                            {
                                "instruction": "print",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3,
                                        "path": "after"
                                    },
                                    "OPB": {},
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 14",
                0
            ]
        ]
    },
    {
        "id": "8f68",
        "name": "Try to print constant value",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbmark constant.bit32.0x5678 cmd print constant.bit32.22 index 14",
        "expExitCode": "255",
        "verifyCmd": "$TC -j actions get action metact index 14",
        "matchCount": "1",
        "matchPattern": "Error: TC action with specified index not found.*",
        "teardown": []
    },
    {
        "id": "4a1a",
        "name": "Set skbmark to ptables.mymd",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [
            [
                "$TC p4template del pipeline/ptables",
                0,
                1,
                255
            ],
            [
                "$TC actions flush action gact",
                0,
                1,
                255
            ],
            [
                "$TC actions add action pass index 1",
                0,
                1,
                255
            ],
            [
                "$TC actions add action drop index 2",
                0,
                1,
                255
            ],
            [
                "$TC p4template create pipeline/ptables pipeid 22 maxrules 1 numtclasses 2 preactions action gact index 1 postactions action gact index 2",
                0
            ],
            [
                "$TC p4template create metadata/ptables/mymd type bit32 mid 1",
                0
            ]
        ],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbmark metadata.ptables.mymd index 5",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 5",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 5,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "ptables",
                                        "name": "mymd",
                                        "id": 1
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 5",
                0
            ],
            [
                "$TC p4template del pipeline/ptables",
                0
            ]
        ]
    },
    {
        "id": "1a8e",
        "name": "Set skbmark to ptables.mytest64[0-31]",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [
            [
                "$TC p4template del pipeline/ptables",
                0,
                1,
                255
            ],
            [
                "$TC actions flush action gact",
                0,
                1,
                255
            ],
            [
                "$TC actions add action pass index 1",
                0,
                1,
                255
            ],
            [
                "$TC actions add action drop index 2",
                0,
                1,
                255
            ],
            [
                "$TC p4template create pipeline/ptables pipeid 22 maxrules 1 numtclasses 2 preactions action gact index 1 postactions action gact index 2",
                0
            ],
            [
                "$TC p4template create metadata/ptables/mytest64 type bit64 mid 3",
                0
            ]
        ],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.kernel.skbmark metadata.ptables.mytest64[0-31] index 5",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 5",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 5,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "metadata",
                                        "container": "bit64",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "ptables",
                                        "name": "mytest64",
                                        "id": 3
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 5",
                0
            ],
            [
                "$TC p4template del pipeline/ptables",
                0
            ]
        ]
    },
    {
        "id": "057e",
        "name": "Set ptables.mytest64[0-31] to skbmark",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [
            [
                "$TC p4template del pipeline/ptables",
                0,
                1,
                255
            ],
            [
                "$TC actions flush action gact",
                0,
                1,
                255
            ],
            [
                "$TC actions add action pass index 1",
                0,
                1,
                255
            ],
            [
                "$TC actions add action drop index 2",
                0,
                1,
                255
            ],
            [
                "$TC p4template create pipeline/ptables pipeid 22 maxrules 1 numtclasses 2 preactions action gact index 1 postactions action gact index 2",
                0
            ],
            [
                "$TC p4template create metadata/ptables/mytest64 type bit64 mid 3",
                0
            ]
        ],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.ptables.mytest64[0-31] metadata.kernel.skbmark index 5",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 5",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 5,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit64",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "ptables",
                                        "name": "mytest64",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "metadata",
                                        "container": "bit32",
                                        "startbit": 0,
                                        "endbit": 31,
                                        "pname": "kernel",
                                        "name": "skbmark",
                                        "id": 3
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 5",
                0
            ],
            [
                "$TC p4template del pipeline/ptables",
                0
            ]
        ]
    },
    {
        "id": "e141",
        "name": "Set ptables.mytest64 to constant.bit64.0x12345678",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [
            [
                "$TC p4template del pipeline/ptables",
                0,
                1,
                255
            ],
            [
                "$TC actions flush action gact",
                0,
                1,
                255
            ],
            [
                "$TC actions add action pass index 1",
                0,
                1,
                255
            ],
            [
                "$TC actions add action drop index 2",
                0,
                1,
                255
            ],
            [
                "$TC p4template create pipeline/ptables pipeid 22 maxrules 1 numtclasses 2 preactions action gact index 1 postactions action gact index 2",
                0
            ],
            [
                "$TC p4template create metadata/ptables/mytest64 type bit64 mid 3",
                0
            ]
        ],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.ptables.mytest64 constant.bit64.0x12345678 index 5",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 5",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 5,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit64",
                                        "startbit": 0,
                                        "endbit": 63,
                                        "pname": "ptables",
                                        "name": "mytest64",
                                        "id": 3
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "container": "bit64",
                                        "startbit": 0,
                                        "endbit": 63,
                                        "value": 305419896
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 5",
                0
            ],
            [
                "$TC p4template del pipeline/ptables",
                0
            ]
        ]
    },
    {
        "id": "1761",
        "name": "Set ptables.mytest to constant.bit16.0x1234",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [
            [
                "$TC p4template del pipeline/ptables",
                0,
                1,
                255
            ],
            [
                "$TC actions flush action gact",
                0,
                1,
                255
            ],
            [
                "$TC actions add action pass index 1",
                0,
                1,
                255
            ],
            [
                "$TC actions add action drop index 2",
                0,
                1,
                255
            ],
            [
                "$TC p4template create pipeline/ptables pipeid 22 maxrules 1 numtclasses 2 preactions action gact index 1 postactions action gact index 2",
                0
            ],
            [
                "$TC p4template create metadata/ptables/mytest type bit16 mid 2",
                0
            ]
        ],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.ptables.mytest constant.bit16.0x1234 index 5",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 5",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 5,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "ptables",
                                        "name": "mytest",
                                        "id": 2
                                    },
                                    "OPB": {
                                        "type": "constant",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "value": 4660
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 5",
                0
            ],
            [
                "$TC p4template del pipeline/ptables",
                0
            ]
        ]
    },
    {
        "id": "c56d",
        "name": "Set ptables.mytest to kernel.tcindex",
        "category": [
            "p4tc",
            "actions",
            "metadata"
        ],
        "setup": [
            [
                "$TC p4template del pipeline/ptables",
                0,
                1,
                255
            ],
            [
                "$TC actions flush action gact",
                0,
                1,
                255
            ],
            [
                "$TC actions add action pass index 1",
                0,
                1,
                255
            ],
            [
                "$TC actions add action drop index 2",
                0,
                1,
                255
            ],
            [
                "$TC p4template create pipeline/ptables pipeid 22 maxrules 1 numtclasses 2 preactions action gact index 1 postactions action gact index 2",
                0
            ],
            [
                "$TC p4template create metadata/ptables/mytest type bit16 mid 2",
                0
            ]
        ],
        "cmdUnderTest": "$TC actions add action metact cmd set metadata.ptables.mytest metadata.kernel.tcindex index 5",
        "expExitCode": "0",
        "verifyCmd": "$TC -j actions get action metact index 5",
        "matchCount": "1",
        "matchJSON": [
            {
                "total acts": 0
            },
            {
                "actions": [
                    {
                        "order": 1,
                        "kind": "metact",
                        "index": 5,
                        "ref": 1,
                        "bind": 0,
                        "operations": [
                            {
                                "instruction": "set",
                                "control_action": {
                                    "type": "pipe"
                                },
                                "operands": {
                                    "OPA": {
                                        "type": "metadata",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "ptables",
                                        "name": "mytest",
                                        "id": 2
                                    },
                                    "OPB": {
                                        "type": "metadata",
                                        "container": "bit16",
                                        "startbit": 0,
                                        "endbit": 15,
                                        "pname": "kernel",
                                        "name": "tcindex",
                                        "id": 4
                                    },
                                    "OPC": {}
                                }
                            }
                        ],
                        "not_in_hw": true
                    }
                ]
            }
        ],
        "teardown": [
            [
                "$TC actions del action metact index 5",
                0
            ],
            [
                "$TC p4template del pipeline/ptables",
                0
            ]
        ]
    }
]
